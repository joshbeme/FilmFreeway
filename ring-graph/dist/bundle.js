!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=n,this.className=e,this.selector=$(".".concat(e)),this.init(),this.next=null,this.last=null}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.shouldUpdate=!1,this.angleRadian=null,this.arcLength=null,this.currentArcLength=null,this.currentArcLength=0}},{key:"reset",value:function(){this.setSegment(),this.next&&this.next.reset()}},{key:"setSegment",value:function(){this.setLengths();var t=this.selector,e=this.config,n=e.color,i=e.radius,r=e.perimeter;t.css("transform-origin","50% 50%"),t.css("stroke","".concat(n)),t.css("r",""+i),t.css("stroke-dasharray",""+r),t.css("stroke-dashoffset",""+r),t.css("transform","rotate(0deg)")}},{key:"setLengths",value:function(){var t=this.config.perimeter,e=0;this.last&&(e=this.last.arcLength);var n=this.config.angle/360,i=n*t;this.angleRadian=i,this.arcLength=n+e}},{key:"relay",value:function(){var t=this,e=0;this.last&&(e=this.last.arcLength);var n=this.config.time,i=this.selector,r=t.config.perimeter-t.angleRadian;i.animate({strokeDashoffset:r},{duration:n,specialEasing:{strokeDashoffset:"easeOutBounce"},start:function(){i.css("transform","rotate(".concat(360*e,"deg)"))},complete:function(){t.next&&t.next.relay()}})}},{key:"accordion",value:function(){var t=this,e=this.config.time,n=this.config.perimeter-this.angleRadian;$(function(){t.selector.animate({strokeDashoffset:n},{duration:e,specialEasing:{strokeDashoffset:"easeOutBounce"},queue:!1,step:function(e,n){var i=0;t.last&&(i=t.last.currentArcLength);var r=(t.config.perimeter-e)/t.config.perimeter+i;t.currentArcLength=r,t.next&&(t.next.selector.css("transform","rotate(".concat(360*r,"deg)")),t.next.updateRotation())},complete:function(){return t.shouldUpdate=!0}})}),this.next&&this.next.accordion()}},{key:"stop",value:function(){this.selector.stop(),this.next&&this.next.stop()}},{key:"updateRotation",value:function(){if(this.shouldUpdate){var t=0;this.last&&(t=this.last.currentArcLength);var e=this.angleRadian/this.config.perimeter+t;this.currentArcLength=e,this.next&&(this.next.selector.css("transform","rotate(".concat(360*e,"deg)")),this.next.updateRotation())}}}])&&i(e.prototype,n),r&&i(e,r),t}();function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.segmentSelectors=e.children,this.segments=[],this.headNode=null,this.accordionLength=0,this.relayLength=0,this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this,e=this;$("#launch").click(function(){return t.launch.call(e)}),$("#stop").click(function(){return t.stop.call(e)});var n=document.querySelector("#graph"),i=null;this.segmentSelectors=Array.from(this.segmentSelectors),this.segmentSelectors.shift();for(var a=0;a<this.segmentSelectors.length;a++){var s="circle"+a,o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("cx","50%"),o.setAttribute("cy","50%"),o.setAttribute("stroke-width","40"),o.setAttribute("fill","none"),o.setAttribute("class",s),n.appendChild(o);var c=new r(s,{});this.segments.push(c),i&&(i.next=c),c.last=i,i=c}this.headNode=this.segments[0],this.headNode.init()}},{key:"launch",value:function(){var t=this,e=$("#stop"),n=$("#launch");this.resetState(),n.attr("disabled",!0),e.attr("disabled",!1),$("#accordion").is(":checked")?(this.animateAccordion(),this.timeOut=setTimeout(function(){t.originalButtonState()},this.accordionLength)):(this.animateRelay(),this.timeOut=setTimeout(function(){t.originalButtonState()},this.relayLength))}},{key:"stop",value:function(){clearTimeout(this.timeOut),this.originalButtonState(),this.headNode.stop()}},{key:"animateAccordion",value:function(){this.headNode.accordion()}},{key:"animateRelay",value:function(){this.headNode.relay()}},{key:"getRowInputs",value:function(t){var e=this;return t.reduce(function(t,n){var i=/^data-*/,r=e.recursivlyFindInput(n);return t[r.getAttributeNames().find(function(t){return i.test(t)}).replace("data-","")]=r.value,t},{})}},{key:"resetState",value:function(){var t=this;clearTimeout(this.timeOut),this.accordionLength=0,this.relayLength=0,this.segmentSelectors.forEach(function(e,n){var i=t.getRowInputs(Array.from(e.children));i.perimeter=t.calculatePerimeter(i.radius);var r=Number(i.time);i.time=r,t.segments[n].config=i,i.time>t.accordionLength&&(t.accordionLength=r),t.relayLength+=r}),this.headNode.reset()}},{key:"recursivlyFindInput",value:function(t){return t.hasChildNodes()?this.recursivlyFindInput(t.children[0]):t}},{key:"calculatePerimeter",value:function(t){return 2*t*Math.PI}},{key:"originalButtonState",value:function(){$("#launch").attr("disabled",!1),$("#stop").attr("disabled",!0)}}])&&a(e.prototype,n),i&&a(e,i),t}())(document.querySelector("#table-body"))}]);